{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Main.js","components/ProtectedRoute.js","components/Login.js","components/Register.js","components/Footer.js","components/ImagePopup.js","images/success-register.svg","images/error-register.svg","components/InfoTooltip.js","components/Card.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/api.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","src","logo","alt","loggedIn","headerEmail","onClick","onSignOut","to","link","linkText","CurrentUserContext","React","createContext","Main","currentUser","useContext","avatar","type","onEditAvatar","name","onEditProfile","about","onAddPlace","cardList","ProtectedRoute","Component","component","Login","history","useHistory","useState","inputEmail","setInputEmail","inputPassword","setInputPassword","onSubmit","evt","preventDefault","onLogin","push","required","id","placeholder","value","onChange","target","Register","onRegister","Footer","ImagePopup","card","isOpen","onClose","openCard","InfoTolltip","isRegister","successRegister","errorRegister","Card","isOwn","owner","_id","isLiked","likes","some","onCardDelete","onCardClick","onCardLike","length","PopupWithForm","title","children","buttonText","EditProfilePopup","setName","description","setDescription","useEffect","onUpdateUser","minLength","maxLength","EditAvatarPopup","avatarRef","createRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","api","options","this","_options","result","ok","json","Promise","reject","status","statusText","fetch","baseUrl","credentials","headers","then","res","_checkResponse","item","method","body","JSON","stringify","info","button","isLoad","_buttonText","textContent","auth","email","password","App","isEditProfilePopupOpen","openEditProfile","isAddPlacePopupOpen","openAddPlace","isEditAvatarPopupOpen","openEditAvatar","infoTooltip","openInfoTooltip","cards","setCardsArray","setLoggedIn","setRegister","setHeaderEmail","setUserInfo","selectedCard","handleCardClick","handleCardLike","changeLikeCardStatus","newCard","newCards","map","c","catch","err","console","log","handleCardDelete","deleteCard","filter","closeAllPopups","getInitialCards","getUserInfo","userInfo","Provider","localStorage","removeItem","exact","path","authorize","register","addNewCard","setAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.082c2780.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import logo from '../images/logo.svg';\nimport { Link } from 'react-router-dom';\n\nexport default function Header(props) {\n\n  return (\n    <header className=\"header\">\n      <img src={logo} className=\"header__logo\" alt=\"Логотип Mesto Russia\" />\n      {props.loggedIn ? <>\n        <p className=\"header__email\">{props.headerEmail}</p>\n        <button className=\"header__link header__link_main\" onClick={props.onSignOut}>Выйти</button>\n      </> : <>\n        <Link to={props.link} className=\"header__link\" >{props.linkText}</Link>\n      </>}\n    </header>\n  )\n}\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React from 'react';\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\nexport default function Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <img className=\"profile__avatar\" alt=\"Аватар профиля\" src={currentUser.avatar} />\n        <button className=\"profile__avatar-button\" type=\"button\" onClick = {() => props.onEditAvatar(true)}></button>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\n          <button className=\"profile__edit-button\" type=\"button\" onClick = {() => props.onEditProfile(true)}></button>\n          <p className=\"profile__job\">{currentUser.about}</p>\n        </div>\n        <button className=\"add-button\" type=\"button\" onClick = {() => props.onAddPlace(true)}></button>\n      </section>\n      <section className=\"cards\">\n        <ul className =\"elements\">\n          {props.cardList}\n        </ul>\n      </section>\n    </main>\n  )\n}\n","import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\nexport default function ProtectedRoute ({ component: Component, ...props }) {\n  return (\n    <Route>\n      {\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\n      }\n    </Route>\n  )\n}\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\n\nexport default function Login(props) {\n  const history = useHistory();\n\n  const [inputEmail, setInputEmail] = React.useState(\"\");\n  const [inputPassword, setInputPassword] = React.useState(\"\");\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    if (!inputEmail || !inputPassword) {\n      return\n    }\n    props.onLogin(inputEmail, inputPassword);\n    setInputEmail(\"\");\n    setInputPassword(\"\");\n    history.push(\"./\")\n  }\n\n  return (\n    <div className=\"authorization\">\n      <h1 className=\"authorization__title\">Вход</h1>\n      <form className=\"authorization__form\" onSubmit={handleSubmit}>\n        <input required className=\"authorization__input\" id=\"email\" name=\"email\" type=\"email\" placeholder=\"Email\"\n        value={inputEmail} onChange={(evt) => setInputEmail(evt.target.value)} />\n        <input required className=\"authorization__input\" id=\"password\" name=\"password\" type=\"password\" placeholder=\"Пароль\"\n        value={inputPassword} onChange={(evt) => setInputPassword(evt.target.value)} />\n        <button type=\"submit\" className=\"authorization__submit-button\">Войти</button>\n      </form>\n    </div>\n  )\n}\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nexport default function Register(props) {\n  const [inputPassword, setInputPassword] = React.useState(\"\");\n  const [inputEmail, setInputEmail] = React.useState(\"\");\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n\n    if (!inputEmail || !inputPassword) {\n      return\n    }\n    props.onRegister(inputEmail, inputPassword);\n    setInputEmail(\"\");\n    setInputPassword(\"\");\n  }\n\n  return (\n    <div className=\"authorization\">\n      <h1 className=\"authorization__title\">Регистрация</h1>\n      <form className=\"authorization__form\" onSubmit={handleSubmit} >\n      <input required className=\"authorization__input\" id=\"email\" name=\"email\" type=\"email\" placeholder=\"Email\"\n        value={inputEmail} onChange={(evt) => setInputEmail(evt.target.value)} />\n        <input required className=\"authorization__input\" id=\"password\" name=\"password\" type=\"password\" placeholder=\"Пароль\"\n        value={inputPassword} onChange={(evt) => setInputPassword(evt.target.value)} />\n        <button type=\"submit\" className=\"authorization__submit-button\">Зарегистрироваться</button>\n      </form>\n      <Link to=\"./sign-in\" className=\"authorization__signin-link\">Уже зарегистрированы? Войти</Link>\n    </div>\n  )\n}\n","export default function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n    </footer>\n  )\n}\n","export default function ImagePopup(props) {\n  return (\n    <section className= {`popup popup_full-image ${props.card.isOpen && `popup_opened`}`}>\n      <div className=\"popup__card\">\n        <button className=\"popup__close-button popup__close-button_image\" type=\"button\" onClick = {props.onClose}></button>\n        <img className=\"popup__card-image\" alt={props.card.openCard.name} src={props.card.openCard.link} />\n        <h2 className=\"popup__card-title\">{props.card.openCard.name}</h2>\n      </div>\n    </section>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/success-register.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/error-register.df8eddf6.svg\";","import successRegister from \"../images/success-register.svg\";\nimport errorRegister from \"../images/error-register.svg\";\n\nexport default function InfoTolltip(props) {\n  return (\n    <section className={`popup ${props.isOpen && `popup_opened`}`}>\n      <div className=\"popup__container\">\n        <button className=\"popup__close-button popup__close-button_edit\" type=\"button\" onClick = {props.onClose}></button>\n        <div className=\"popup__info-tooltip\">\n          <img src={props.isRegister ? successRegister : errorRegister} alt=\"Успешная регистрация\" className=\"popup__info-tooltip_image\"></img>\n          <p className=\"popup__info-tooltip_text\">{props.isRegister ? \"Вы успешно зарегистрировались!\" : \"Что-то пошло не так! Попробуйте еще раз\"}</p>\n        </div>\n      </div>\n    </section>\n  )\n}\n","import React from 'react';\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\nexport default function Card(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const isOwn = props.card.owner._id === currentUser._id;\n  const isLiked = props.card.likes.some(owner => owner._id === currentUser._id);\n\n  return (\n    <li className=\"element\">\n      <button type=\"button\" className={`element__delete-button ${!isOwn && `element__delete-button_invisible`}`}\n      onClick={() => props.onCardDelete(props.card)}></button>\n      <img className=\"element__image\" src = {props.card.link} alt = {props.card.name} onClick = {() => {\n        props.onCardClick({\n        openCard: props.card,\n        isOpen: true\n        })\n      }} />\n      <div className=\"element__info\">\n        <h2 className=\"element__title\">{props.card.name}</h2>\n        <div className=\"element__like\">\n          <button className={`element__like-button ${isLiked && `element__like-button_active`}`} type=\"button\"\n          onClick={() => props.onCardLike(props.card)}></button>\n          <p className=\"element__like-counter\">{props.card.likes.length}</p>\n        </div>\n      </div>\n    </li>\n  )\n}\n","export default function PopupWithForm(props) {\n  return (\n    <section className={`popup ${props.name} ${props.isOpen && `popup_opened`}`}>\n    <div className=\"popup__container\">\n      <button className=\"popup__close-button popup__close-button_edit\" type=\"button\" onClick = {props.onClose}></button>\n      <h3 className=\"popup__header\">\n        {props.title}\n      </h3>\n      <form className=\"popup__form popup__form_edit\" name={props.name} onSubmit={props.onSubmit} >\n        {props.children}\n        <button type=\"submit\" className=\"popup__save-button\">{props.buttonText}</button>\n      </form>\n    </div>\n    </section>\n  )\n}\n","import PopupWithForm from \"./PopupWithForm\";\nimport React from 'react';\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\nexport default function EditProfilePopup(props) {\n  const [name, setName] = React.useState(\"\");\n  const [description, setDescription] = React.useState(\"\");\n  const currentUser = React.useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n      setName(currentUser.name);\n      setDescription(currentUser.about);\n  }, [currentUser]);\n\n  return (\n  <PopupWithForm name = \"popup_edit\" title = \"Редактировать профиль\" isOpen = {props.isOpen}\n  onClose = {props.onClose} buttonText = \"Сохранить\" onSubmit={(evt) => {\n    evt.preventDefault();\n\n    props.onUpdateUser({\n      name: name,\n      about: description,\n    });\n  }}>\n        <input id=\"input-name\" type=\"text\" placeholder=\"Введите Ваше имя\" className=\"popup__input popup__input_name\"\n        name=\"name\" minLength={2} maxLength={40} required onChange={(evt) => setName(evt.target.value)} value={name} />\n        <span id=\"input-name-error\" className=\"popup__input_error\"></span>\n        <input id=\"input-job\" type=\"text\" placeholder=\"Введите Вашу профессию\" className=\"popup__input popup__input_job\"\n        name=\"job\"minLength={2} maxLength={200} required onChange={(evt) => setDescription(evt.target.value)} value={description} />\n        <span id=\"input-job-error\" className=\"popup__input_error\"></span>\n  </PopupWithForm>)\n}\n","import PopupWithForm from \"./PopupWithForm\";\nimport React from 'react';\n\nexport default function EditAvatarPopup(props) {\n  const avatarRef = React.createRef();\n\n  return (\n    <PopupWithForm name = \"popup__edit-avatar\" title = \"Обновить аватар\" isOpen = {props.isOpen}\n    onClose = {props.onClose} buttonText = \"Сохранить\" onSubmit={(evt) => {\n      evt.preventDefault();\n\n      props.onUpdateAvatar({\n        link: avatarRef.current.value,\n      })\n    }}>\n      <input id=\"input-src\" type=\"url\" placeholder=\"Ссылка на картинку\" className=\"popup__input popup__input_src\"\n      name=\"link\" required ref={avatarRef} />\n      <span id=\"input-src-error\" className=\"popup__input_error\"></span>\n    </PopupWithForm>\n  )\n}\n","import PopupWithForm from \"./PopupWithForm\";\nimport React from \"react\";\n\nexport default function AddPlacePopup(props) {\n  const [name, setName] = React.useState(\"\");\n  const [link, setLink] = React.useState(\"\");\n\n  return (\n    <PopupWithForm name = \"popup_add-card\" title = \"Новое место\" isOpen = {props.isOpen}\n    onClose = {props.onClose} buttonText = \"Создать\" onSubmit={(evt) => {\n      evt.preventDefault();\n\n      props.onAddPlace({\n        name: name,\n        link: link\n      });\n\n      setName(\"\");\n      setLink(\"\");\n    }} >\n      <input id=\"input-title\" type=\"text\" placeholder=\"Название\" className=\"popup__input popup__input_title\"\n      name=\"name\" minLength={2} maxLength={30} required value={name} onChange={(evt) => setName(evt.target.value)} />\n      <span id=\"input-title-error\" className=\"popup__input_error\"></span>\n      <input id=\"input-src\" type=\"url\" placeholder=\"Ссылка на картинку\" className=\"popup__input popup__input_src\"\n      name=\"link\" required value={link} onChange={(evt) => setLink(evt.target.value)} />\n      <span id=\"input-src-error\" className=\"popup__input_error\"></span>\n    </PopupWithForm>\n  )\n}\n","class Api {\n  constructor(options) {\n    this._options = options;\n  }\n\n  _checkResponse(result) {\n    if (result.ok) {\n      return result.json();\n    }\n    return Promise.reject(`Произошла ошибка: ${result.status}:${result.statusText}`)\n  }\n\n  getUserInfo() {\n    return fetch(this._options.baseUrl + \"/users/me\", {\n      credentials: 'include',\n      headers: this._options.headers\n    })\n    .then((res) => this._checkResponse(res))\n  };\n\n  setUserInfo(item) {\n    return fetch(this._options.baseUrl + \"/users/me\", {\n      method: \"PATCH\",\n      credentials: 'include',\n      headers: this._options.headers,\n      body: JSON.stringify({\n        name: item.name,\n        about: item.about\n      })\n    })\n    .then((res) => this._checkResponse(res))\n  };\n\n  setAvatar(item) {\n    return fetch(this._options.baseUrl + \"/users/me/avatar\", {\n      method: \"PATCH\",\n      credentials: 'include',\n      headers: this._options.headers,\n      body: JSON.stringify({\n        avatar: item.link\n      })\n    })\n    .then((res) => this._checkResponse(res))\n  };\n\n  getInitialCards() {\n    return fetch(this._options.baseUrl + \"/cards\", {\n      credentials: 'include',\n      headers: this._options.headers\n    })\n    .then((res) => this._checkResponse(res))\n  };\n\n  addNewCard(info) {\n    return fetch(this._options.baseUrl + \"/cards\", {\n      method: \"POST\",\n      credentials: 'include',\n      headers: this._options.headers,\n      body: JSON.stringify({\n        name: info.name,\n        link: info.link\n      })\n    })\n    .then((res) => this._checkResponse(res))\n  };\n\n  deleteCard(id) {\n    return fetch(this._options.baseUrl + \"/cards/\" + id, {\n      method: \"DELETE\",\n      credentials: 'include',\n      headers: this._options.headers\n    })\n    .then((res) => this._checkResponse(res))\n  };\n\n  changeLikeCardStatus(id, isLiked) {\n    if (isLiked) {\n      return fetch(this._options.baseUrl + \"/cards/likes/\" + id, {\n        method: \"PUT\",\n        credentials: 'include',\n        headers: this._options.headers\n      })\n      .then((res) => this._checkResponse(res))\n    } else {\n      return fetch(this._options.baseUrl + \"/cards/likes/\" + id, {\n        method: \"DELETE\",\n        credentials: 'include',\n        headers: this._options.headers\n      })\n      .then((res) => this._checkResponse(res))\n    }\n  }\n\n  isLoading(button, isLoad) {\n    if(isLoad) {\n      this._buttonText = button.textContent;\n      button.textContent = \"Сохранение...\";\n    } else {\n      button.textContent = this._buttonText;\n    }\n  }\n}\n\nexport const api = new Api({\n  baseUrl: \"http://api.eugene.gordievsky.students.nomoreparties.space\",\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n","class Auth {\n  constructor(options) {\n    this._options = options;\n  }\n\n  _checkResponse(result) {\n    if (result.ok) {\n      return result.json();\n    }\n    return Promise.reject(`Произошла ошибка: ${result.status}:${result.statusText}`)\n  }\n\n  register (email, password) {\n    return fetch(`${this._options.baseUrl}/signup`, {\n      method: \"POST\",\n      headers: this._options.headers,\n      body: JSON.stringify({\n        email: email,\n        password: password,\n      })\n    })\n    .then((res) => this._checkResponse(res))\n  }\n\n  authorize (email, password) {\n    return fetch(`${this._options.baseUrl}/signin`, {\n      method: \"POST\",\n      headers: this._options.headers,\n      body: JSON.stringify({\n        email: email,\n        password: password,\n      })\n    })\n    .then((res) => this._checkResponse(res))\n  }\n\n  // checkToken (token) {\n  //   return fetch(`${this._options.baseUrl}/users/me`, {\n  //     method: \"GET\",\n  //     credentials: 'include',\n  //     headers: {\n  //       \"Content-Type\": \"application/json\",\n  //     },\n  //   })\n  //   .then((res) => this._checkResponse(res))\n  // }\n}\n\nexport const auth = new Auth({\n  baseUrl: \"http://api.eugene.gordievsky.students.nomoreparties.space\",\n  headers: {\n    'Content-Type': 'application/json'\n  }\n})\n","import React from 'react';\nimport { Route, Switch, useHistory } from 'react-router-dom';\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport Footer from \"./Footer\";\nimport ImagePopup from \"./ImagePopup\";\nimport InfoTolltip from \"./InfoTooltip\";\nimport Card from \"./Card\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport { api } from \"../utils/api\";\nimport { auth } from \"../utils/auth\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\nfunction App() {\n  const history = useHistory();\n\n  const [isEditProfilePopupOpen, openEditProfile] = React.useState(false);\n  const [isAddPlacePopupOpen, openAddPlace] = React.useState(false);\n  const [isEditAvatarPopupOpen, openEditAvatar] = React.useState(false);\n  const [infoTooltip, openInfoTooltip] = React.useState(false)\n  const [cards, setCardsArray] = React.useState([]);\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [isRegister, setRegister] = React.useState(false);\n  const [headerEmail, setHeaderEmail] = React.useState(\"\");\n  const [currentUser, setUserInfo] = React.useState({\n    name: \"\",\n    about: \"\"\n  });\n  const [selectedCard, handleCardClick] = React.useState({\n    openCard: {},\n    isOpen: false\n  });\n\n  const onSignOut = () => {\n    setLoggedIn(false);\n    localStorage.removeItem(\"jwt\");\n    history.push(\"./sign-in\");\n  }\n\n  const onLogin = (email, password) => {\n    auth.authorize(email, password)\n    .then((res) => {\n      // if(res.token) {\n      //   localStorage.setItem(\"jwt\", res.token);\n      // }\n      setHeaderEmail(email);\n      setLoggedIn(true);\n    })\n    .catch((err) => {\n      console.log(err);\n    })\n  }\n\n  const onRegister = (email, password) => {\n    auth.register(email, password)\n    .then(() => {\n      setRegister(true);\n      openInfoTooltip(true);\n\n    })\n    .catch((err) => {\n      setRegister(false);\n      openInfoTooltip(true);\n      console.log(err)\n    })\n  };\n\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some(owner => owner._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, !isLiked)\n    .then((newCard) => {\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n      setCardsArray(newCards);\n    })\n    .catch((err) => console.log(err))\n  };\n\n  const handleCardDelete = (card) => {\n    api.deleteCard(card._id)\n    .then(() => setCardsArray(cards.filter((c) => {\n      return c._id !== card._id;\n    })))\n    .catch((err) => console.log(err))\n  };\n\n  const handleUpdateUser = (item) => {\n    api.setUserInfo(item)\n    .then((userInfo) => {\n      setUserInfo(userInfo);\n      closeAllPopups();\n    })\n    .catch((err) => console.log(err));\n  };\n\n  const handleUpdateAvatar = (item) => {\n    api.setAvatar(item)\n    .then((userInfo) => {\n      setUserInfo(userInfo);\n      closeAllPopups();\n    })\n    .catch((err) => console.log(err));\n  };\n\n  const handleAddPlaceSubmit = (item) => {\n    api.addNewCard(item)\n    .then((newCard) => {\n      setCardsArray([newCard, ...cards]);\n      closeAllPopups();\n    })\n    .catch((err) => console.log(err));\n  };\n\n  const closeAllPopups = () => {\n    openEditProfile(false);\n    openAddPlace(false);\n    openEditAvatar(false);\n    openInfoTooltip(false);\n    handleCardClick({\n      openCard: {},\n      isOpen: false\n    });\n  };\n\n  // React.useEffect(() => {\n  //   const token = localStorage.getItem(\"jwt\");\n\n  //   if (token) {\n  //     auth.checkToken(token)\n  //     .then((res) => {\n  //       setLoggedIn(true);\n  //       setHeaderEmail(res.data.email);\n  //       history.push(\"./\");\n  //     })\n  //     .catch((err) => {\n  //       console.log(err);\n  //     })\n  //   }\n  // }, [])\n\n  React.useEffect(() => {\n    if (loggedIn === true) {\n      api.getInitialCards()\n      .then((cards) => setCardsArray(cards))\n      .catch((err) => console.log(err))\n    }\n  }, [loggedIn]);\n\n  React.useEffect(() => {\n    if (loggedIn === true) {\n      api.getUserInfo()\n      .then((userInfo) => {\n        setUserInfo(userInfo)\n      })\n      .catch((err) => console.log(err))\n    }\n  }, [loggedIn]);\n\n  return (\n  <CurrentUserContext.Provider value={currentUser}>\n  <div className=\"page\">\n    { loggedIn && <Header loggedIn={loggedIn} headerEmail={headerEmail} onSignOut={onSignOut} /> }\n    <Switch>\n      <Route exact path=\"/sign-in\">\n        { !loggedIn && <Header loggedIn={loggedIn} link=\"./sign-up\" linkText=\"Регистрация\" /> }\n        <Login onLogin={onLogin} />\n      </Route>\n      <Route exact path=\"/sign-up\">\n        { !loggedIn && <Header loggedIn={loggedIn} link=\"./sign-in\" linkText=\"Вход\" /> }\n        <Register onRegister={onRegister} />\n      </Route>\n      <ProtectedRoute path=\"/\" loggedIn={loggedIn} component={Main} onEditProfile = {openEditProfile}\n      onAddPlace = {openAddPlace} onEditAvatar = {openEditAvatar} cardList = {cards.map((card) => <Card card = {card}\n      onCardClick = {handleCardClick} key = {card._id} onCardLike={handleCardLike} onCardDelete={handleCardDelete} />)} />\n    </Switch>\n    <Footer />\n  </div>\n  <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n  <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\n  <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n  <ImagePopup card = {selectedCard} onClose = {closeAllPopups} />\n  <InfoTolltip isOpen={infoTooltip} onClose = {closeAllPopups} isRegister={isRegister} />\n  </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}